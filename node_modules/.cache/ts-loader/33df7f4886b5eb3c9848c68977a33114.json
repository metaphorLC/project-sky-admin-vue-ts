{"remainingRequest":"/Users/lin/Documents/lin/code/vue_project/project-sky-admin-vue-ts/node_modules/babel-loader/lib/index.js!/Users/lin/Documents/lin/code/vue_project/project-sky-admin-vue-ts/node_modules/ts-loader/index.js??ref--14-2!/Users/lin/Documents/lin/code/vue_project/project-sky-admin-vue-ts/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lin/Documents/lin/code/vue_project/project-sky-admin-vue-ts/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lin/Documents/lin/code/vue_project/project-sky-admin-vue-ts/src/views/employee/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/lin/Documents/lin/code/vue_project/project-sky-admin-vue-ts/src/views/employee/index.vue","mtime":1752019078293},{"path":"/Users/lin/Documents/lin/code/vue_project/project-sky-admin-vue-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lin/Documents/lin/code/vue_project/project-sky-admin-vue-ts/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lin/Documents/lin/code/vue_project/project-sky-admin-vue-ts/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/lin/Documents/lin/code/vue_project/project-sky-admin-vue-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lin/Documents/lin/code/vue_project/project-sky-admin-vue-ts/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.function.name\");\n\nvar _employee = require(\"@/api/employee\");\n\nvar _default = {\n  data: function data() {\n    return {\n      name: '',\n      page: 1,\n      pageSize: 10,\n      records: [],\n      total: 0\n    };\n  },\n  created: function created() {\n    this.pageQuery();\n  },\n  methods: {\n    // 分页查询\n    pageQuery: function pageQuery() {\n      var _this = this;\n\n      //准备请求参数\n      var params = {\n        name: this.name,\n        page: this.page,\n        pageSize: this.pageSize\n      }; // 发送ajax请求, 访问后端服务, 获取分页数据(本项目规范, 此处为调用)\n\n      (0, _employee.getEmployeeList)(params).then(function (res) {\n        if (res.data.code === 1) {\n          _this.total = res.data.data.total;\n          _this.records = res.data.data.records;\n        }\n      }).catch(function (err) {\n        _this.$message.error('请求出错了: ' + err.message);\n      });\n    },\n    // pageSize发生变化时触发\n    handleSizeChange: function handleSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.pageQuery();\n    },\n    // page发生变化时触发\n    handleCurrentChange: function handleCurrentChange(page) {\n      this.page = page;\n      this.pageQuery();\n    },\n    // 启用禁用员工账号\n    handleStartOrStop: function handleStartOrStop(row) {\n      var _this2 = this;\n\n      // alert(`id=${row.id} status=${row.status}`);\n      if (row.username === 'admin') {\n        this.$message.error('admin为系统管理员账号, 不能更改账号状态！');\n        return;\n      } // 弹出确认提示框\n\n\n      this.$confirm('确认要修改当前员工状态吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        // 处理参数, 主要是处理状态取值\n        var p = {\n          id: row.id,\n          status: !row.status ? 1 : 0\n        };\n        (0, _employee.enableOrDisableEmployee)(p).then(function (res) {\n          if (res.data.code === 1) {\n            _this2.$message.success('员工账号状态修改成功!');\n\n            _this2.pageQuery();\n          }\n        }).catch();\n      });\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["/Users/lin/Documents/lin/code/vue_project/project-sky-admin-vue-ts/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lin/Documents/lin/code/vue_project/project-sky-admin-vue-ts/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lin/Documents/lin/code/vue_project/project-sky-admin-vue-ts/src/views/employee/index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;;AA0CA;;eACe;AACb,EAAA,IADa,kBACT;AACF,WAAO;AACL,MAAA,IAAI,EAAE,EADD;AAEL,MAAA,IAAI,EAAE,CAFD;AAGL,MAAA,QAAQ,EAAE,EAHL;AAIL,MAAA,OAAO,EAAE,EAJJ;AAKL,MAAA,KAAK,EAAE;AALF,KAAP;AAOD,GATY;AAUb,EAAA,OAVa,qBAUN;AACL,SAAK,SAAL;AACD,GAZY;AAab,EAAA,OAAO,EAAE;AACP;AACA,IAAA,SAFO,uBAEE;AAAA;;AACP;AACA,UAAM,MAAM,GAAG;AAAE,QAAA,IAAI,EAAE,KAAK,IAAb;AAAmB,QAAA,IAAI,EAAE,KAAK,IAA9B;AAAoC,QAAA,QAAQ,EAAE,KAAK;AAAnD,OAAf,CAFO,CAGP;;AACA,qCAAgB,MAAhB,EAAwB,IAAxB,CAA6B,UAAA,GAAG,EAAG;AACjC,YAAI,GAAG,CAAC,IAAJ,CAAS,IAAT,KAAkB,CAAtB,EAAyB;AACvB,UAAA,KAAI,CAAC,KAAL,GAAa,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,KAA3B;AACA,UAAA,KAAI,CAAC,OAAL,GAAe,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,OAA7B;AACD;AACF,OALD,EAKG,KALH,CAKS,UAAA,GAAG,EAAG;AACb,QAAA,KAAI,CAAC,QAAL,CAAc,KAAd,CAAoB,YAAY,GAAG,CAAC,OAApC;AACD,OAPD;AAQD,KAdM;AAeP;AACA,IAAA,gBAhBO,4BAgBU,QAhBV,EAgBkB;AACvB,WAAK,QAAL,GAAgB,QAAhB;AACA,WAAK,SAAL;AACD,KAnBM;AAoBP;AACA,IAAA,mBArBO,+BAqBa,IArBb,EAqBiB;AACtB,WAAK,IAAL,GAAY,IAAZ;AACA,WAAK,SAAL;AACD,KAxBM;AAyBP;AACA,IAAA,iBA1BO,6BA0BW,GA1BX,EA0Bc;AAAA;;AACnB;AACA,UAAG,GAAG,CAAC,QAAJ,KAAiB,OAApB,EAA6B;AAC3B,aAAK,QAAL,CAAc,KAAd,CAAoB,0BAApB;AACA;AACD,OALkB,CAMnB;;;AACA,WAAK,QAAL,CAAc,eAAd,EAA+B,IAA/B,EAAqC;AACnC,QAAA,iBAAiB,EAAE,IADgB;AAEnC,QAAA,gBAAgB,EAAE,IAFiB;AAGnC,QAAA,IAAI,EAAE;AAH6B,OAArC,EAIG,IAJH,CAIQ,YAAK;AACX;AACA,YAAM,CAAC,GAAG;AACR,UAAA,EAAE,EAAE,GAAG,CAAC,EADA;AAER,UAAA,MAAM,EAAE,CAAC,GAAG,CAAC,MAAL,GAAc,CAAd,GAAkB;AAFlB,SAAV;AAIA,+CAAwB,CAAxB,EAA2B,IAA3B,CAAgC,UAAA,GAAG,EAAG;AACpC,cAAI,GAAG,CAAC,IAAJ,CAAS,IAAT,KAAkB,CAAtB,EAAyB;AACvB,YAAA,MAAI,CAAC,QAAL,CAAc,OAAd,CAAsB,aAAtB;;AACA,YAAA,MAAI,CAAC,SAAL;AACD;AACF,SALD,EAKG,KALH;AAMH,OAhBC;AAmBH;AApDQ;AAbI,C","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { getEmployeeList, enableOrDisableEmployee } from '@/api/employee';\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: '',\r\n      page: 1,\r\n      pageSize: 10,\r\n      records: [],\r\n      total: 0\r\n    }\r\n  },\r\n  created() {\r\n    this.pageQuery();\r\n  },\r\n  methods: {\r\n    // 分页查询\r\n    pageQuery() {\r\n      //准备请求参数\r\n      const params = { name: this.name, page: this.page, pageSize: this.pageSize };\r\n      // 发送ajax请求, 访问后端服务, 获取分页数据(本项目规范, 此处为调用)\r\n      getEmployeeList(params).then(res => {\r\n        if (res.data.code === 1) {\r\n          this.total = res.data.data.total;\r\n          this.records = res.data.data.records;\r\n        }\r\n      }).catch(err => {\r\n        this.$message.error('请求出错了: ' + err.message);\r\n      });\r\n    },\r\n    // pageSize发生变化时触发\r\n    handleSizeChange(pageSize) {\r\n      this.pageSize = pageSize;\r\n      this.pageQuery();\r\n    },\r\n    // page发生变化时触发\r\n    handleCurrentChange(page) {\r\n      this.page = page;\r\n      this.pageQuery();\r\n    },\r\n    // 启用禁用员工账号\r\n    handleStartOrStop(row) {\r\n      // alert(`id=${row.id} status=${row.status}`);\r\n      if(row.username === 'admin') {\r\n        this.$message.error('admin为系统管理员账号, 不能更改账号状态！');\r\n        return;\r\n      }\r\n      // 弹出确认提示框\r\n      this.$confirm('确认要修改当前员工状态吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        // 处理参数, 主要是处理状态取值\r\n        const p = {\r\n          id: row.id,\r\n          status: !row.status ? 1 : 0\r\n        }\r\n        enableOrDisableEmployee(p).then(res => {\r\n          if (res.data.code === 1) {\r\n            this.$message.success('员工账号状态修改成功!');\r\n            this.pageQuery();\r\n          }\r\n        }).catch();\r\n    })\r\n\r\n\r\n  }\r\n}\r\n}\r\n"],"sourceRoot":""}]}